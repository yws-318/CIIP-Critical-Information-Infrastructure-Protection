# 1. 계정관리 > 1.4 패스워드 파일 보호
## Why? - 패스워드 파일을 암호화를 왜 해야 하는가?
- /etc/passwd
    - 계정명:패스워드:UID:GID:계정설명:홈디렉토리:Shell정보
- /etc/shadow
    - 계정명:패스워드:패스워드생성일:변경가능최소시간:유효기간:경고일수

passwd 파일에는 원래 패스워드가 평문으로 저장되었으나, 보안상 이유로 현재 패스워드는 shadow 파일에 암호화된 형태로 저장되고 있다. 

passwd에 패스워드를 저장시, 사용자 계정 패스워드가 저장된 파일이 유출 또는 탈취될 경우 평문으로 저장된 패스워드 정보가 노출될 수 있다.   
passwd, shadow 파일이 탈취되었을 때를 가정해서 암호화가 되어 있어야 하기에,   
passwd에 평문으로 저장하지 않고, shadow로 암호화하여 저장해야 한다.

## /etc/passwd
사용자 계정에 대한 기본 정보를 저장하는 파일.   
(계정명:패스워드:UID:GID:comment:홈 디렉터리:login shell)   
위와 같은 구조를 가지고 있다.   


## /etc/shadow
사용자 계정의 암호화된 비밀번호와 비밀번호 관련 정보를 저장.   
root 사용자만 shadow 파일을 읽을 수 있다.   
passwd 파일의 두 번째 필드 값인 패스워드 필드 전체가 ‘x’로 지정되어 있다면 shadow 파일이 일반적으로 존재한다는 뜻이다.   

## passwd 파일과 shadow 파일의 관계
예전 passwd 파일에는 계정의 패스워드까지 다 저장되어 있었다.   
하지만 passwd 파일은 모든 사용자가 읽을 수 있다는 점에서 암호화된 패스워드가 노출될 수 있다는 보안 문제가 있었다.   
현재는 shadow 파일을 만들어, 암호화되어 있는 패스워드를 개별적으로 보관하고, root 사용자만 shadow 파일을 읽을 수 있게 권한 제한을 두면서 보안성을 높였다.   

